# Brite Architecture

## Example Operations

### Compile JavaScript Project

```ite
JavaScript.addEntry(fun() {
  React.render(...);
});

JavaScript.addEntry(fun() {
  if window.path == "index.html" {
    JavaScript.splitChunk(fun() {
      React.render(...);
    });
  } else {
    JavaScript.splitChunk(fun() {
      React.render(...);
    });
  }
});
```

#### Requirements

- Appropriate inlining.
- Global property slot graph.
- Dynamic code splitting.
- Pre-evaluation.

#### Steps

1. Parse every file.
2. Type check every file.
3. Build global property graph.
4. Pre-evaluate everything. (Also does inlining.)
5. Determine entry chunks.
6. Serialize entry chunks and dependency chunks to JavaScript.

### Get Diagnostics for File

#### Requirements

- Unused variable warnings.
- Diagnostics generated by pre-evaluation.

#### Steps

1. Parse file.
2. Type check file.
3. Repeat steps 1â€“2 for all dependencies found while type checking.
4. Collect unused variable warnings.
   1. Find all dependents of this file.
   2. Make sure all exports are referenced at least once in dependents.
5. Collect pre-evaluation diagnostics.
   1. Pre-evaluate all dependencies.
   2. Pre-evaluate file.
6. Report diagnostics only for current file.

### Show Type on Hover

### Find All References

### Get Completion Results
